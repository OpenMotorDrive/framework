#pragma once

#include "driver_icm20x48.h"

#define REG_BANK0 0x00U
#define REG_BANK1 0x01U
#define REG_BANK2 0x02U
#define REG_BANK3 0x03U


#define ICM20x48_REG(b, r)  ((((uint16_t)b) << 8)|(r))
#define GET_BANK(r)         ((r) >> 8)
#define GET_REG(r)          ((r) & 0xFFU)
//Register Map
#define ICM20948_REG_WHO_AM_I               ICM20x48_REG(REG_BANK0,0x00U)
#define ICM20948_REG_USER_CTRL              ICM20x48_REG(REG_BANK0,0x03U)
#define ICM20948_REG_LP_CONFIG              ICM20x48_REG(REG_BANK0,0x05U)
#define ICM20948_REG_PWR_MGMT_1             ICM20x48_REG(REG_BANK0,0x06U)
#define ICM20948_REG_PWR_MGMT_2             ICM20x48_REG(REG_BANK0,0x07U)
#define ICM20948_REG_INT_PIN_CFG            ICM20x48_REG(REG_BANK0,0x0FU)
#define ICM20948_REG_INT_ENABLE             ICM20x48_REG(REG_BANK0,0x10U)
#define ICM20948_REG_INT_ENABLE_1           ICM20x48_REG(REG_BANK0,0x11U)
#define ICM20948_REG_INT_ENABLE_2           ICM20x48_REG(REG_BANK0,0x12U)
#define ICM20948_REG_INT_ENABLE_3           ICM20x48_REG(REG_BANK0,0x13U)
#define ICM20948_REG_I2C_MST_STATUS         ICM20x48_REG(REG_BANK0,0x17U)
#define ICM20948_REG_INT_STATUS             ICM20x48_REG(REG_BANK0,0x19U)
#define ICM20948_REG_INT_STATUS_1           ICM20x48_REG(REG_BANK0,0x1AU)
#define ICM20948_REG_INT_STATUS_2           ICM20x48_REG(REG_BANK0,0x1BU)
#define ICM20948_REG_INT_STATUS_3           ICM20x48_REG(REG_BANK0,0x1CU)
#define ICM20948_REG_DELAY_TIMEH            ICM20x48_REG(REG_BANK0,0x28U)
#define ICM20948_REG_DELAY_TIMEL            ICM20x48_REG(REG_BANK0,0x29U)
#define ICM20948_REG_ACCEL_XOUT_H           ICM20x48_REG(REG_BANK0,0x2DU)
#define ICM20948_REG_ACCEL_XOUT_L           ICM20x48_REG(REG_BANK0,0x2EU)
#define ICM20948_REG_ACCEL_YOUT_H           ICM20x48_REG(REG_BANK0,0x2FU)
#define ICM20948_REG_ACCEL_YOUT_L           ICM20x48_REG(REG_BANK0,0x30U)
#define ICM20948_REG_ACCEL_ZOUT_H           ICM20x48_REG(REG_BANK0,0x31U)
#define ICM20948_REG_ACCEL_ZOUT_L           ICM20x48_REG(REG_BANK0,0x32U)
#define ICM20948_REG_GYRO_XOUT_H            ICM20x48_REG(REG_BANK0,0x33U)
#define ICM20948_REG_GYRO_XOUT_L            ICM20x48_REG(REG_BANK0,0x34U)
#define ICM20948_REG_GYRO_YOUT_H            ICM20x48_REG(REG_BANK0,0x35U)
#define ICM20948_REG_GYRO_YOUT_L            ICM20x48_REG(REG_BANK0,0x36U)
#define ICM20948_REG_GYRO_ZOUT_H            ICM20x48_REG(REG_BANK0,0x37U)
#define ICM20948_REG_GYRO_ZOUT_L            ICM20x48_REG(REG_BANK0,0x38U)
#define ICM20948_REG_TEMP_OUT_H             ICM20x48_REG(REG_BANK0,0x39U)
#define ICM20948_REG_TEMP_OUT_L             ICM20x48_REG(REG_BANK0,0x3AU)
#define ICM20948_REG_EXT_SLV_SENS_DATA_00   ICM20x48_REG(REG_BANK0,0x3BU)
#define ICM20948_REG_EXT_SLV_SENS_DATA_01   ICM20x48_REG(REG_BANK0,0x3CU)
#define ICM20948_REG_EXT_SLV_SENS_DATA_02   ICM20x48_REG(REG_BANK0,0x3DU)
#define ICM20948_REG_EXT_SLV_SENS_DATA_03   ICM20x48_REG(REG_BANK0,0x3EU)
#define ICM20948_REG_EXT_SLV_SENS_DATA_04   ICM20x48_REG(REG_BANK0,0x3FU)
#define ICM20948_REG_EXT_SLV_SENS_DATA_05   ICM20x48_REG(REG_BANK0,0x40U)
#define ICM20948_REG_EXT_SLV_SENS_DATA_06   ICM20x48_REG(REG_BANK0,0x41U)
#define ICM20948_REG_EXT_SLV_SENS_DATA_07   ICM20x48_REG(REG_BANK0,0x42U)
#define ICM20948_REG_EXT_SLV_SENS_DATA_08   ICM20x48_REG(REG_BANK0,0x43U)
#define ICM20948_REG_EXT_SLV_SENS_DATA_09   ICM20x48_REG(REG_BANK0,0x44U)
#define ICM20948_REG_EXT_SLV_SENS_DATA_10   ICM20x48_REG(REG_BANK0,0x45U)
#define ICM20948_REG_EXT_SLV_SENS_DATA_11   ICM20x48_REG(REG_BANK0,0x46U)
#define ICM20948_REG_EXT_SLV_SENS_DATA_12   ICM20x48_REG(REG_BANK0,0x47U)
#define ICM20948_REG_EXT_SLV_SENS_DATA_13   ICM20x48_REG(REG_BANK0,0x48U)
#define ICM20948_REG_EXT_SLV_SENS_DATA_14   ICM20x48_REG(REG_BANK0,0x49U)
#define ICM20948_REG_EXT_SLV_SENS_DATA_15   ICM20x48_REG(REG_BANK0,0x4AU)
#define ICM20948_REG_EXT_SLV_SENS_DATA_16   ICM20x48_REG(REG_BANK0,0x4BU)
#define ICM20948_REG_EXT_SLV_SENS_DATA_17   ICM20x48_REG(REG_BANK0,0x4CU)
#define ICM20948_REG_EXT_SLV_SENS_DATA_18   ICM20x48_REG(REG_BANK0,0x4DU)
#define ICM20948_REG_EXT_SLV_SENS_DATA_19   ICM20x48_REG(REG_BANK0,0x4EU)
#define ICM20948_REG_EXT_SLV_SENS_DATA_20   ICM20x48_REG(REG_BANK0,0x4FU)
#define ICM20948_REG_EXT_SLV_SENS_DATA_21   ICM20x48_REG(REG_BANK0,0x50U)
#define ICM20948_REG_EXT_SLV_SENS_DATA_22   ICM20x48_REG(REG_BANK0,0x51U)
#define ICM20948_REG_EXT_SLV_SENS_DATA_23   ICM20x48_REG(REG_BANK0,0x52U)
#define ICM20948_REG_FIFO_EN_1              ICM20x48_REG(REG_BANK0,0x66U)
#define ICM20948_REG_FIFO_EN_2              ICM20x48_REG(REG_BANK0,0x67U)
#define ICM20948_REG_FIFO_RST               ICM20x48_REG(REG_BANK0,0x68U)
#define ICM20948_REG_FIFO_MODE              ICM20x48_REG(REG_BANK0,0x69U)
#define ICM20948_REG_FIFO_COUNTH            ICM20x48_REG(REG_BANK0,0x70U)
#define ICM20948_REG_FIFO_COUNTL            ICM20x48_REG(REG_BANK0,0x71U)
#define ICM20948_REG_FIFO_R_W               ICM20x48_REG(REG_BANK0,0x72U)
#define ICM20948_REG_DATA_RDY_STATUS        ICM20x48_REG(REG_BANK0,0x74U)
#define ICM20948_REG_FIFO_CFG               ICM20x48_REG(REG_BANK0,0x76U)

#define ICM20948_REG_SELF_TEST_X_GYRO       ICM20x48_REG(REG_BANK1,0x02U)
#define ICM20948_REG_SELF_TEST_Y_GYRO       ICM20x48_REG(REG_BANK1,0x03U)
#define ICM20948_REG_SELF_TEST_Z_GYRO       ICM20x48_REG(REG_BANK1,0x04U)
#define ICM20948_REG_SELF_TEST_X_ACCEL      ICM20x48_REG(REG_BANK1,0x0EU)
#define ICM20948_REG_SELF_TEST_Y_ACCEL      ICM20x48_REG(REG_BANK1,0x0FU)
#define ICM20948_REG_SELF_TEST_Z_ACCEL      ICM20x48_REG(REG_BANK1,0x10U)
#define ICM20948_REG_XA_OFFS_H              ICM20x48_REG(REG_BANK1,0x14U)
#define ICM20948_REG_XA_OFFS_L              ICM20x48_REG(REG_BANK1,0x15U)
#define ICM20948_REG_YA_OFFS_H              ICM20x48_REG(REG_BANK1,0x17U)
#define ICM20948_REG_YA_OFFS_L              ICM20x48_REG(REG_BANK1,0x18U)
#define ICM20948_REG_ZA_OFFS_H              ICM20x48_REG(REG_BANK1,0x1AU)
#define ICM20948_REG_ZA_OFFS_L              ICM20x48_REG(REG_BANK1,0x1BU)
#define ICM20948_REG_TIMEBASE_CORRECTIO     ICM20x48_REG(REG_BANK1,0x28U)

#define ICM20948_REG_GYRO_SMPLRT_DIV        ICM20x48_REG(REG_BANK2,0x00U)
#define ICM20948_REG_GYRO_CONFIG_1          ICM20x48_REG(REG_BANK2,0x01U)
#define ICM20948_REG_2                      ICM20x48_REG(REG_BANK2,0xCEU)
#define ICM20948_REG_XG_OFFS_USRH           ICM20x48_REG(REG_BANK2,0x03U)
#define ICM20948_REG_XG_OFFS_USRL           ICM20x48_REG(REG_BANK2,0x04U)
#define ICM20948_REG_YG_OFFS_USRH           ICM20x48_REG(REG_BANK2,0x05U)
#define ICM20948_REG_YG_OFFS_USRL           ICM20x48_REG(REG_BANK2,0x06U)
#define ICM20948_REG_ZG_OFFS_USRH           ICM20x48_REG(REG_BANK2,0x07U)
#define ICM20948_REG_ZG_OFFS_USRL           ICM20x48_REG(REG_BANK2,0x08U)
#define ICM20948_REG_ODR_ALIGN_EN           ICM20x48_REG(REG_BANK2,0x09U)
#define ICM20948_REG_ACCEL_SMPLRT_DIV_1     ICM20x48_REG(REG_BANK2,0x10U)
#define ICM20948_REG_ACCEL_SMPLRT_DIV_2     ICM20x48_REG(REG_BANK2,0x11U)
#define ICM20948_REG_ACCEL_INTEL_CTRL       ICM20x48_REG(REG_BANK2,0x12U)
#define ICM20948_REG_ACCEL_WOM_THR          ICM20x48_REG(REG_BANK2,0x13U)
#define ICM20948_REG_ACCEL_CONFIG           ICM20x48_REG(REG_BANK2,0x14U)
#define ICM20948_REG_21                     ICM20x48_REG(REG_BANK2,0xCEU)
#define ICM20948_REG_FSYNC_CONFIG           ICM20x48_REG(REG_BANK2,0x52U)
#define ICM20948_REG_TEMP_CONFIG            ICM20x48_REG(REG_BANK2,0x53U)
#define ICM20948_REG_MOD_CTRL_USR           ICM20x48_REG(REG_BANK2,0x54U)

#define ICM20948_REG_I2C_MST_ODR_CONFIG     ICM20x48_REG(REG_BANK3,0x00U)
#define ICM20948_REG_I2C_MST_CTRL           ICM20x48_REG(REG_BANK3,0x01U)
#define ICM20948_REG_I2C_MST_DELAY_CTRL     ICM20x48_REG(REG_BANK3,0x02U)
#define ICM20948_REG_I2C_SLV0_ADDR          ICM20x48_REG(REG_BANK3,0x03U)
#define ICM20948_REG_I2C_SLV0_REG           ICM20x48_REG(REG_BANK3,0x04U)
#define ICM20948_REG_I2C_SLV0_CTRL          ICM20x48_REG(REG_BANK3,0x05U)
#define ICM20948_REG_I2C_SLV0_DO            ICM20x48_REG(REG_BANK3,0x06U)
#define ICM20948_REG_I2C_SLV1_ADDR          ICM20x48_REG(REG_BANK3,0x07U)
#define ICM20948_REG_I2C_SLV1_REG           ICM20x48_REG(REG_BANK3,0x08U)
#define ICM20948_REG_I2C_SLV1_CTRL          ICM20x48_REG(REG_BANK3,0x09U)
#define ICM20948_REG_I2C_SLV1_DO            ICM20x48_REG(REG_BANK3,0x0AU)
#define ICM20948_REG_I2C_SLV2_ADDR          ICM20x48_REG(REG_BANK3,0x0BU)
#define ICM20948_REG_I2C_SLV2_REG           ICM20x48_REG(REG_BANK3,0x0CU)
#define ICM20948_REG_I2C_SLV2_CTRL          ICM20x48_REG(REG_BANK3,0x0DU)
#define ICM20948_REG_I2C_SLV2_DO            ICM20x48_REG(REG_BANK3,0x0EU)
#define ICM20948_REG_I2C_SLV3_ADDR          ICM20x48_REG(REG_BANK3,0x0FU)
#define ICM20948_REG_I2C_SLV3_REG           ICM20x48_REG(REG_BANK3,0x10U)
#define ICM20948_REG_I2C_SLV3_CTRL          ICM20x48_REG(REG_BANK3,0x11U)
#define ICM20948_REG_I2C_SLV3_DO            ICM20x48_REG(REG_BANK3,0x12U)
#define ICM20948_REG_I2C_SLV4_ADDR          ICM20x48_REG(REG_BANK3,0x13U)
#define ICM20948_REG_I2C_SLV4_REG           ICM20x48_REG(REG_BANK3,0x14U)
#define ICM20948_REG_I2C_SLV4_CTRL          ICM20x48_REG(REG_BANK3,0x15U)
#define ICM20948_REG_I2C_SLV4_DO            ICM20x48_REG(REG_BANK3,0x16U)
#define ICM20948_REG_I2C_SLV4_DI            ICM20x48_REG(REG_BANK3,0x17U)

#define ICM20948_REG_BANK_SEL               0x7F